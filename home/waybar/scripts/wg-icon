#!/usr/bin/env bash
IFACE="${1:-wgnord}"

# If iface is missing or down, treat as disconnected (and don't error).
if ip -4 addr show dev "$IFACE" 2>/dev/null | grep -q 'inet '; then
  icon=$'\U000F0341'   # locked
  state="connected"
else
  icon=$'\U000F0340'   # unlocked
  state="disconnected"
fi

printf '{"text":"%s","class":"%s"}\n' "$icon" "$state"